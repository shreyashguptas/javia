# Server Configuration
SERVER_URL=https://yourdomain.com

# Authentication Note:
# CLIENT_API_KEY is no longer used. Authentication is now via device UUID.
# Each device has a unique UUID that must be registered on the server.
# The UUID is automatically generated on first boot and stored in ~/.javia_device_uuid
# To register your device, see the setup instructions or run on the server:
#   cd /opt/javia
#   ./register_device.sh <YOUR_DEVICE_UUID>

# OTA Update Configuration
DEVICE_TIMEZONE=America/Los_Angeles
SUPABASE_URL=https://your-project.supabase.co
SUPABASE_KEY=your-anon-key

# GPIO Configuration - Rotary Encoder
# BUTTON_PIN: Rotary encoder SW (push button) pin
BUTTON_PIN=17
# ROTARY_CLK_PIN: Rotary encoder CLK pin
ROTARY_CLK_PIN=22
# ROTARY_DT_PIN: Rotary encoder DT pin
ROTARY_DT_PIN=23
# AMPLIFIER_SD_PIN: Amplifier shutdown pin
AMPLIFIER_SD_PIN=27

# Audio Configuration - Dual Microphone Stereo Setup
SAMPLE_RATE=48000
CHANNELS=2  # Stereo: 2x INMP441 microphones (left and right channels)
CHUNK_SIZE=1024
MICROPHONE_GAIN=1.0  # Amplification applied on server (1.0x = no gain, INMP441 is loud enough)
FADE_DURATION_MS=50

# Volume Configuration - Rotary Encoder
# VOLUME_STEP: Volume change per encoder step (%)
VOLUME_STEP=5
# INITIAL_VOLUME: Default volume on first boot (%)
#   Default: 50% on first boot, then persists across reboots
#   Volume is saved to ~/.javia/volume and restored on restart
#   50 = Default (half volume on first boot)
#   100 = Full volume (if you want to override default)
#   Note: After first boot, this setting is ignored - volume persists from last session
#   Note: Rotate encoder anytime to adjust volume (even during playback!)
#   Note: Volume changes take effect immediately during audio playback
INITIAL_VOLUME=50

# Performance Configuration
# VERBOSE_OUTPUT: Enable detailed logging (true/false)
VERBOSE_OUTPUT=true

# Note: RECORD_SECONDS is not used - recording continues until you press the button again!

# Audio Settings:
# CHANNELS - Number of microphones (stereo setup)
#   2 = Stereo recording with 2x INMP441 microphones (CURRENT SETUP)
#   - Mic #1: L/R pin → GND (left channel)
#   - Mic #2: L/R pin → 3.3V (right channel)
#   - Both share same I2S pins (SCK, WS, SD on GPIO18/19/20)
#   - Benefits: Better audio quality, spatial information, noise rejection
#   - Spacing: 3-6cm apart for optimal stereo separation
#   Note: Do NOT change to 1 unless you physically remove the second microphone
#
# MICROPHONE_GAIN - Amplification factor applied on server (offloads processing from Pi)
#   1.0 = No amplification (RECOMMENDED - INMP441 naturally outputs 70-80% signal)
#   1.3 = 30% boost (use if your recordings are slightly quiet, reaches ~95%)
#   1.5 = 50% boost (only if speaking very quietly or mic far away)
#   2.0 = Double volume (likely to cause clipping - use only if signal is <50%)
#   Note: Check signal levels in logs after recording
#   Target: 70-95% of max (no clipping warning)
#   WARNING: Values >1.5x will likely cause distortion with normal speaking
#
# FADE_DURATION_MS - Duration of fade-in/fade-out to eliminate clicks (milliseconds)
#   50 = Default (imperceptible but effective)
#   100 = Longer fade (for stubborn clicks)
#   150 = Very long fade (very aggressive)
#
# VOLUME_STEP - Volume change per rotary encoder step (%)
#   5 = Default (20 steps from 0% to 100%)
#   10 = Larger steps (10 steps from 0% to 100%)
#   1 = Fine control (100 steps from 0% to 100%)
#
# INITIAL_VOLUME - Default volume on first boot (%)
#   50 = Default (half volume on first boot)
#   100 = Full volume (if you want to override default)
#   Note: After first boot, volume persists from last session
#   Note: Volume is saved to ~/.javia/volume and restored on restart
#   Note: Volume changes take effect immediately during playback (real-time control)
#   Note: Rotate encoder anytime to adjust volume
#
# VERBOSE_OUTPUT - Enable detailed logging output (true/false)
#   true = Default (show all operation details for debugging)
#   false = Minimal output (only show essential messages, better performance)
#   Note: Disabling verbose output can improve responsiveness by 0.5-1 second

